(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{318:function(a,s,t){"use strict";t.r(s);var r=t(14),e=Object(r.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"老汽车副屏项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#老汽车副屏项目"}},[a._v("#")]),a._v(" 老汽车副屏项目")]),a._v(" "),s("p",[a._v("家里的手动挡老车只配了个收音机，没有中控屏，没有蓝牙，于是想利用家里吃灰的树莓派做个汽车副中控屏，功能暂订如下，")]),a._v(" "),s("ul",[s("li",[a._v("3.5寸屏")]),a._v(" "),s("li",[a._v("显示时间、天气、新闻等")]),a._v(" "),s("li",[a._v("蓝牙功能")]),a._v(" "),s("li",[a._v("…")])]),a._v(" "),s("h2",{attrs:{id:"前置条件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前置条件"}},[a._v("#")]),a._v(" 前置条件")]),a._v(" "),s("ul",[s("li",[a._v("熟悉Linux系统")]),a._v(" "),s("li",[a._v("熟悉Docker")]),a._v(" "),s("li",[a._v("了解MagicMirror项目")])]),a._v(" "),s("h2",{attrs:{id:"预备材料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#预备材料"}},[a._v("#")]),a._v(" 预备材料")]),a._v(" "),s("ul",[s("li",[a._v("树莓派3B")]),a._v(" "),s("li",[a._v("LCD3.5寸屏")]),a._v(" "),s("li",[a._v("树莓派官方Buster镜像")])]),a._v(" "),s("h2",{attrs:{id:"项目预览"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目预览"}},[a._v("#")]),a._v(" 项目预览")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://chenhao2020.github.io/images/mojing1.jpg",alt:"本地图片"}})]),a._v(" "),s("h2",{attrs:{id:"操作步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#操作步骤"}},[a._v("#")]),a._v(" 操作步骤")]),a._v(" "),s("h3",{attrs:{id:"设置树莓派密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置树莓派密码"}},[a._v("#")]),a._v(" 设置树莓派密码")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("passwd")]),a._v(" \n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("passwd")]),a._v(" pi\n")])])]),s("h3",{attrs:{id:"开机启动ssh服务并允许root用户登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开机启动ssh服务并允许root用户登录"}},[a._v("#")]),a._v(" 开机启动ssh服务并允许root用户登录")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("nano")]),a._v(" /etc/ssh/sshd_config\n")])])]),s("h3",{attrs:{id:"给树莓派linux-buster系统换源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#给树莓派linux-buster系统换源"}},[a._v("#")]),a._v(" 给树莓派Linux buster系统换源")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 编辑 sudo nano `/etc/apt/sources.list` 文件，删除原文件所有内容，用以下内容取代：")]),a._v("\ndeb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib rpi\ndeb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib rpi\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 编辑 sudo nano `/etc/apt/sources.list.d/raspi.list` 文件，删除原文件所有内容，用以下内容取代：")]),a._v("\ndeb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui\n")])])]),s("h3",{attrs:{id:"更新与升级树莓派buster系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新与升级树莓派buster系统"}},[a._v("#")]),a._v(" 更新与升级树莓派buster系统")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" update "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" upgrade "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v("\n")])])]),s("h3",{attrs:{id:"安装docker服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装docker服务"}},[a._v("#")]),a._v(" 安装Docker服务")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sSL")]),a._v(" https://get.daocloud.io/docker "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v("\n")])])]),s("h3",{attrs:{id:"给docker换源并设置开机启动docker服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#给docker换源并设置开机启动docker服务"}},[a._v("#")]),a._v(" 给Docker换源并设置开机启动Docker服务")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("nano")]),a._v(" /etc/docker/daemon.json\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"registry-mirrors"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://hub-mirror.c.163.com"')]),a._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://ustc-edu-cn.mirror.aliyuncs.com"')]),a._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://ghcr.io"')]),a._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://mirror.baidubce.com"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl daemon-reload\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl start "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v("\n")])])]),s("h3",{attrs:{id:"下载magicmirror-docker镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载magicmirror-docker镜像"}},[a._v("#")]),a._v(" 下载Magicmirror Docker镜像")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull bastilimbach/docker-magicmirror\n")])])]),s("h3",{attrs:{id:"创建magicmirror-docker容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建magicmirror-docker容器"}},[a._v("#")]),a._v(" 创建Magicmirror Docker容器")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--publish")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":8080 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),a._v(" always "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--volume")]),a._v(" ~/magic_mirror/config:/opt/magic_mirror/config "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--volume")]),a._v(" ~/magic_mirror/modules:/opt/magic_mirror/modules "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--volume")]),a._v(" /etc/localtime:/etc/localtime:ro "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" magic_mirror "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    bastilimbach/docker-magicmirror\n")])])]),s("h3",{attrs:{id:"创建项目功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建项目功能"}},[a._v("#")]),a._v(" 创建项目功能")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" magic_mirror "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" magic_mirror\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/shbatm/mmm-carousel\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])])]),s("p",[a._v("以下开源功能可根据需求任意挑选。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("https://github.com/darickc/MMM-BackgroundSlideshow\nhttps://github.com/cbrooker/MMM-Todoist\nhttps://github.com/shbatm/mmm-carousel\nhttps://github.com/BenRoe/MMM-SystemStats\nhttps://github.com/fewieden/MMM-voice\nhttps://github.com/AdamMoses-GitHub/MMM-ImageSlideshow\nhttps://github.com/boazarad/MMM-CountDown\nhttps://github.com/LukeSkywalker92/MMM-Globe\nhttps://github.com/EbenKouao/MMM-SmartTouch\nhttps://github.com/NolanKingdon/MMM-MoonPhase\nhttps://github.com/frdteknikelektro/MMM-SimpleLogo\nhttps://github.com/mykle1/MMM-EARTH\nhttps://github.com/fewieden/MMM-AlarmClock\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);